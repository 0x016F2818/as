---
layout: post
title: AUTOSAR BOOTLOADER
category: real embeded world of automotive
comments: true
---

在汽车电子，现在ｂｏｏｔｌｏａｄｅｒ基本已成汽车ＥＣＵ必备，其负责应用程序的启动和通过ＣＡＮ总线来更新应用程序和数据（如ＮＶＭ）等。

一般而言，ｂｏｏｔｌｏａｄｅｒ通过ＣＡＮ总线来更新应用程序，有些也会通过ＬＩＮ或者ＵＡＲＴ来更新程序，不管通过同种方式，都可以基于[ｉｓｏ１４２２９](https://en.wikipedia.org/wiki/Unified_Diagnostic_Services)来实现，也就是说，ｉｓｏ１４２２９　ＵＤＳ协议算是一种上层应用协议，可用在多种通讯总线之上，而[ｉｓｏ１５７６５](https://en.wikipedia.org/wiki/ISO_15765-2)是基于ＣＡＮ总线的ＵＤＳ协议服务，其定义了如何通过ＣＡＮ总线来传输大数据。

这里只讨论基于ＣＡＮ总线的ｂｏｏｔｌｏａｄｅｒ，说简单点，ｂｏｏｔｌｏａｄｅｒ的主要功能是负责应用程序的启动和程序的更新，而更新过程由一系列的ＵＤＳ服务组合起来实现的，主要由一下８条服务组成。

##１　Ｓｅｓｓｉｏｎ　Ｃｏｎｔｒｏｌ（会话控制　０ｘ１０）

##２　Ｓｅｃｕｒｉｔｙ　Ａｃｃｅｓｓ（安全访问　０ｘ２７）

##３　Ｒｏｕｔｉｎｅ　Ｃｏｎｔｒｏｌ（过程控制　０ｘ３１）

##４　Ｒｅｑｕｅｓｔ　Ｄｏｗｎｌｏａｄ（请求下载　０ｘ３４）

##５　Ｒｅｑｕｅｓｔ　Ｕｐｌｏａｄ（请求上载　０ｘ３５）

##６　Ｔｒａｎｓｆｅｒ　Ｄａｔａ（传输数据　０ｘ３６）

##７　Ｒｅｑｕｅｓｔ　Ｔｒａｎｓｆｅｒ　Ｅｘｉｔ（请求传输结束　０ｘ３７）

##８　Ｅｃｕ　Ｒｅｓｅｔ（ＥＣＵ复位　０ｘ１１）